# PropantCheckChallenge
## Содержание
1. [Описание решения](#overview)
2. [Запуск обучения](#training)
```
Ne_Beite
├── data
│   ├── labels
│   │   └── train.csv
│   └── train
├── models
│   ├── model.pkl
├── README
├── preprocess.py
├── hough.py
├── requirements.txt
└── run.py
```
## Описание решения <a name="overview"></a>
 С помощью методов из OpenCV мы вырезаем из фотографии внутренний прямоугольник с гранулами проппанта и запускаем cv2.HoughCircles() для поиска окружностей на картинке. Далее высчитываем средний радиус и делим количество пикселей на переднем плане на фото на площадь круга с средним радиусом. Это и будет количеством гранул в ответе. 
 Для подсчёта распределения гранул по ситам строим распределения радиусов найденных окружностей и по ним обучаем Random Forest для предсказания распределения бинов.

## Запуск обучения <a name="training"></a>
1. Для установки зависимостей:\
```pip install -r requirements.txt```
2. Загрузите фотографии в папку data/train
3. Для запуска процесса обучения:\
```python run.py```

Модель model.pkl сохранится в папке models.\
Он воспроизводит результаты модели model.pkl из следующих посылок:\
1. 01.11.2020 17:00, Скор: 0.07615697727491788
2. 30.10.2020 09:50, Скор: 0.07708607193722809
